<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>

	<script>
		// http://152.136.185.210:7878/api/m5/home/multidata
		//第一种是普通做法
		//1.创建对象
		// const xhr = new XMLHttpRequest();
		// //2.初始化
		// xhr.open('get', 'http://152.136.185.210:7878/api/m5/home/multidata');
		// //3.发送
		// xhr.send();
		// //4.绑定事件，处理响应结果
		// xhr.onreadystatechange = function () {
		// 	//判断状态
		// 	if (xhr.readyState == 4) {
		// 		//判断响应状态码 200-299
		// 		if (xhr.status >= 200 && xhr.status < 300) { 
		// 			//表示成功
		// 			console.log(xhr.response);
		// 		}else{
		// 			//如果失败
		// 			console.error(xhr.status);
		// 		}
		// 	}
		// }



		//第二种用promise封装
		const p = new Promise((resolve,reject)=>{
		//1.创建对象
		const xhr = new XMLHttpRequest();
		//2.初始化
		xhr.open('get', 'http://152.136.185.210:7878/api/m5/home/multidata');
		//3.发送
		xhr.send();
		//4.绑定事件，处理响应结果
		xhr.onreadystatechange = function () {
			//判断状态
			if (xhr.readyState == 4) {
				//判断响应状态码 200-299
				if (xhr.status >= 200 && xhr.status < 300) { 
					//表示成功
					resolve(xhr.response);
				}else{
					//如果失败
					reject(xhr.status)
				}
			}
		}
	});
	p.then((res)=>{
		console.log(res);
	},(err)=>{
		console.log(err);
	});
	</script>
</body>
</html>